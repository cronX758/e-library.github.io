{% extends 'base.html' %}

{% block content %}
<div class="main-content">
    <div class="card mx-auto" style="max-width: 600px;">
    <h2>Update Book - {{ book.title }}</h2>
    <form method="POST" enctype="multipart/form-data">
        {% csrf_token %}
        <div class="form-group mb-3">
            <label for="title" class="form-label">Title</label>
            <input type="text" name="title" id="title" class="form-control" value="{{ book.title }}" required>
        </div>

        <div class="form-group mb-3">
            <label for="author" class="form-label">Author</label>
            <input type="text" name="author" id="author" class="form-control" value="{{ book.author }}" required>
        </div>

        <div class="form-group mb-3">
            <label for="publication_date" class="form-label">Publication Date</label>
            <input type="date" name="publication_date" id="publication_date" class="form-control" value="{{ book.publication_date }}" required>
        </div>

        <div class="form-group mb-3">
            <label for="available_copies" class="form-label">Available Copies</label>
            <input type="number" name="available_copies" id="available_copies" class="form-control" value="{{ book.available_copies }}" required>
        </div>

        <div class="form-group mb-3">
            <label for="cover_image" class="form-label">Book Cover Image</label>
            <input type="file" name="cover_image" id="cover_image" class="form-control">

            {% if book.cover_image %}
            <img src="{{ book.cover_image.url }}" alt="{{ book.title }}" style="width: 75px; height: 75px">
            {% else %}
            <img src="/images/defaultbook.png" alt="No Image" style="width: 75px; height: 75px;">
            {% endif %}

        </div>

        <button type="submit" class="btn btn-primary">Update Book</button>
        <a href="{% url 'manage-books' %}" class="btn btn-secondary">Cancel</a>
    </form>
    </div>
</div>
{% endblock %}
